{% extends "gitgrade/base.html" %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-5">&nbsp;</div>
            <div class="col text-center">
                <div class="
                    card display-1 text-light
                    {% if grades.final_grade.letter_grade.value == 'A' %}bg-success{% endif %}
                    {% if grades.final_grade.letter_grade.value == 'B' %}bg-success{% endif %}
                    {% if grades.final_grade.letter_grade.value == 'C' %}bg-warning{% endif %}
                    {% if grades.final_grade.letter_grade.value == 'D' %}bg-danger{% endif %}
                    {% if grades.final_grade.letter_grade.value == 'F' %}bg-danger{% endif %}
                ">
                    {{ grades.final_grade.letter_grade.value }}
                </div>
            </div>
            <div class="col-5">&nbsp;</div>
        </div>
        <div class="row mt-5 mb-2">
            <div class="col text-center">
                {{ metadata.source }} | {{ metadata.owner }}/{{ metadata.repo }}
            </div>
        </div>
        <div class="row my-5">
            <div class="col-2">&nbsp;</div>
            <div class="col">
                <table class="table caption-top">
                    <caption>Data Used in Grading</caption>
                    <thead>
                    <tr>
                        <th scope="col">Property</th>
                        <th scope="col">Value</th>
                        <th class="text-center" scope="col">Grade</th>
                        <th class="text-center" scope="col">Weight</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Authors</td>
                        <td>{{ authors_total }}</td>
                        <td class="text-center">{{ grades.total_authors.letter_grade.value }}</td>
                        <td class="text-center">x {{ grades.total_authors.weight }}</td>
                    </tr>
                    <tr>
                        <td>Prolific Author Commits</td>
                        <td>{{ prolific_author_commits_total }}</td>
                        <td class="text-center">{{ grades.total_prolific_authors.letter_grade.value }}</td>
                        <td class="text-center">x {{ grades.total_prolific_authors.weight }}</td>
                    </tr>
                    <tr>
                        <td>Days Since Commit</td>
                        <td>{{ days_since_commit }}</td>
                        <td class="text-center">{{ grades.days_since_commit.letter_grade.value }}</td>
                        <td class="text-center">x {{ grades.days_since_commit.weight }}</td>
                    </tr>
                    <tr>
                        <td>Recent Authors</td>
                        <td>{{ authors_recent }}</td>
                        <td class="text-center">{{ grades.recent_authors.letter_grade.value }}</td>
                        <td class="text-center">x {{ grades.recent_authors.weight }}</td>
                    </tr>
                    <tr>
                        <td>Typical Time Between Recent Commits</td>
                        <td>{{ commit_interval_recent_majority_days }} Days</td>
                        <td class="text-center">{{ grades.recent_commit_interval.letter_grade.value }}</td>
                        <td class="text-center">x {{ grades.recent_commit_interval.weight }}</td>
                    </tr>
                    <tr>
                        <td>Recent Prolific Author Commits</td>
                        <td>{{ prolific_author_commits_recent }}</td>
                        <td class="text-center">{{ grades.recent_prolific_authors.letter_grade.value }}</td>
                        <td class="text-center">x {{ grades.recent_prolific_authors.weight }}</td>
                    </tr>
                    <tr>
                        <td>Days Since Create</td>
                        <td>{{ days_since_create }}</td>
                        <td class="text-center">{{ grades.repo_age.letter_grade.value }}</td>
                        <td class="text-center">x {{ grades.repo_age.weight }}</td>
                    </tr>
                    <tr>
                        <td>Typical Time Between Commits</td>
                        <td>{{ commit_interval_all_majority_days }} Days</td>
                        <td class="text-center">{{ grades.all_commit_interval.letter_grade.value }}</td>
                        <td class="text-center">x {{ grades.all_commit_interval.weight }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-2">&nbsp;</div>
        </div>
        <div class="row">
            <div class="col-2">&nbsp;</div>
            <div class="col">
                <table class="table table-small caption-top">
                    <caption>Other Data Gathered</caption>
                    <thead>
                    <tr>
                        <th scope="col">Property</th>
                        <th scope="col">Value</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Watchers</td>
                        <td>{{ watchers }}</td>
                    </tr>
                    <tr>
                        <td>Branches</td>
                        <td>{{ branch_count }}</td>
                    </tr>
                    <tr>
                        <td>Lines of Code</td>
                        <td>{{ lines_of_code_total }}</td>
                    </tr>
                    <tr>
                        <td>Total Commits</td>
                        <td>{{ commits_total }}</td>
                    </tr>
                    <tr>
                        <td>Recent Commits</td>
                        <td>{{ commits_recent }}</td>
                    </tr>
                    <tr>
                        <td>File Count</td>
                        <td>{{ files_total }}</td>
                    </tr>
                    <tr>
                        <td>Pull Requests Open</td>
                        <td>{{ pull_requests_open }}</td>
                    </tr>
                    <tr>
                        <td>Pull Requests Total</td>
                        <td>{{ pull_requests_total }}</td>
                    </tr>
                    <tr>
                        <td>Open Issues</td>
                        <td>{{ open_issues }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-2">&nbsp;</div>

        </div>
    </div>
{% endblock %}